version: "3.0"

intents:
  - saluti
  - conferma
  - negazione
  - start
  - stop
  - intent_felice
  - inizio_form_ordine
  - informazioni_ordine


responses:
  utter_saluti:
  - text: "Ciao! Come posso esserti utile?"

  utter_start:
  - text: "Benvenuto nell'assistenza clienti di DS Informatica! \n
           Tocca i bottoni qui sotto o richiedi i seguenti servizi: \n
           --> Ordine da remoto di notebook o PC \n
           --> Reso e rimborsi"
  
  utter_stop:
  - text: "Arrivederci e grazie per averci contattato!"

  utter_felice:
  - text: "Alla grande! Mi sento pronto per darti una mano!"

  utter_inizio_form:
  - text: "Benvenuto nella sezione ordini!\nDi seguito verranno richiesti i dati per effettuare l'ordine"
  
  utter_recap_ordine:
  - text: "L'ordine è il seguente"
 
  utter_submit:
  - text: "L'ordine è stato inoltrato!"

  utter_ask_tipologia_prodotto:
  - text: "Che tipologia di prodotto desideri?"

  utter_ask_circuito:
  - text: "Che circuito ha la tua carta?"

  utter_ask_numero_carta:
  - text: "Inserisci il numero della carta"

  utter_ask_pagamento:
  - text: "Inserisci il metodo di pagamento che desideri utilizzare"

  utter_ask_intestatario_carta:
  - text: "Inserisci l'intestatario della carta"

  utter_ask_cvv:
  - text: "Inserisci il cvv della tua carta"


entities:
- circuito
- metodo_pagamento
- numero_carta
- intestatario_carta
- nome
- cognome
- scadenza
- cvv

- tipologia_prodotto
- nome_prodotto
- quantita
  
- email
- numero_telefono
- indirizzo_spedizione
- conferma

slots:
  circuito:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: circuito
  
  tipologia_prodotto:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: tipologia_prodotto   
  
#  metodo_pagamento:
#    type: text
#    influence_conversation: true
#    mappings:
#    - type: from_entity
#      entity: metodo_pagamento
  
  numero_carta:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: numero_carta   
  
  intestatario_carta:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: intestatario_carta    

#  nome:
#    type: text
#    influence_conversation: true
#    mappings:
#    - type: from_entity
#      entity: circuito    

#  cognome:
#    type: text
#    influence_conversation: true
#    mappings:
#    - type: from_entity
#      entity: circuito    
  
#  scadenza:
#    type: text
#    influence_conversation: true
#    mappings:
#    - type: from_entity
#      entity: circuito    
  
  cvv:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: cvv

  
#  nome_prodotto:
#    type: text
#    influence_conversation: true
#    mappings:
#    - type: from_entity
#      entity: circuito    
  
#  quantita:
#    type: text
#    influence_conversation: true
#    mappings:
#    - type: from_entity
#      entity: circuito    
  
#  email:
#    type: text
#    influence_conversation: true
#    mappings:
#    - type: from_entity
#      entity: circuito

#  numero_telefono:
#    type: text
#    influence_conversation: true
#    mappings:
#    - type: from_entity
#      entity: circuito
  
#  indirizzo_spedizione:
#    type: text
#    influence_conversation: true
#    mappings:
#    - type: from_entity
#      entity: circuito  

#  conferma:
#    type: text
#    influence_conversation: true
#    mappings:
#    - type: from_entity
#      entity: circuito

forms:
  form_ordine:
    required_slots:
      - tipologia_prodotto
      - circuito      
      - numero_carta
      - intestatario_carta
      - cvv


actions:
- validate_form_ordine

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
